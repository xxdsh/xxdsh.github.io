

<!DOCTYPE html>
<html lang="en" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>第二部分_自动内存管理 - XXDSHZJ</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="第二部分 自动内存管理第2章 Java内存区域与内存溢...">
  <meta name="author" content="Mengyuan Chen">
  <link rel="icon" href="/images/icons/favicon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon-144x144.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_r673sha78lq.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: '[object Object]'
      },
      donate: {
        enable: true,
        alipay: 'https://sm.ms/image/Y6TiL7UgNHm2RSl',
        wechat: 'https://sm.ms/image/aklIG9KSHPFcV8n'
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v2.jinrishici.com/one.json',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: true,
        path: '/search.xml'
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
        <i class="iconfont iconsearch j-navbar-search"></i>
      
    </div>
    <div class="center">第二部分_自动内存管理</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 相册</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Cure The World </p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/Our%20Furry%20Friends/img-9.jpg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">第二部分_自动内存管理</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>February 22, 2022</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>7179</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <h3 id="第二部分-自动内存管理"><a href="#第二部分-自动内存管理" class="headerlink" title="第二部分 自动内存管理"></a>第二部分 自动内存管理</h3><h4 id="第2章-Java内存区域与内存溢出异常"><a href="#第2章-Java内存区域与内存溢出异常" class="headerlink" title="第2章 Java内存区域与内存溢出异常"></a>第2章 Java内存区域与内存溢出异常</h4><p><strong>2.1 概述</strong><br><strong>2.2 运行时数据区域</strong><br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/09/Cmi4XHgc3jys5IM.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">QQ截图20220209190742.png</span><br>程序计数器（Program Counter Register）是一块较小的内存空间，它可以看作是当前线程所执行的字节码的行号指示器。<br>Java虚拟机的多线程是通过线程轮流切换、分配处理器执行时间的方式来实现的<br>Java虚拟机栈（Java Virtual Machine Stack）也是线程私有的，它的生命周期与线程相同。<br>本地方法栈（Native Method Stacks）与虚拟机栈所发挥的作用是非常相似的，其区别只是虚拟机栈为虚拟机执行Java方法（也就是字节码）服务，而本地方法栈则是为虚拟机使用到的本地（Native）方法服务。<br>在栈深度溢出或者栈扩展失败时分别抛出StackOverflowError和OutOfMemoryError异常<br>Java堆的唯一目的就是存放对象实例<br>GC堆(Garbage Collected Heap)<br>“新生代”“老年代”“永久代”“Eden空间”“From Survivor空间”“To Survivor空间”<br>方法区(Method Area)用于存储已被虚拟机加载的类型信息、常量、静态变量、即时编译器编译后的代码缓存等数据。<br>运行时常量池（Runtime Constant Pool）是方法区的一部分。Class文件中除了有类的版本、字段、方法、接口等描述信息外，还有一项信息是常量池表（Constant Pool Table），用于存放编译期生成的各种字面量与符号引用，这部分内容将在类加载后存放到方法区的运行时常量池中。<br>直接内存（Direct Memory）并不是虚拟机运行时数据区的一部分，也不是《Java虚拟机规范》中定义的内存区域。<br><strong>2.3 HotSpot虚拟机对象探秘</strong><br>类加载检查；指针碰撞”(Bump The Pointer)；“空闲列表”(Free List)<br>本地线程分配缓冲(Thread Local Allocation Buffer，TLAB)<br>对象头（Header）、实例数据（Instance Data）和对齐填充（Padding）。<br>对象头:用于存储对象自身的运行时数据(哈希码（HashCode）、GC分代年龄、锁状态标志、线程持有的锁、偏向线程ID、偏向时间戳);类型指针;<br>HotSpot虚拟机默认的分配顺序为longs/doubles、ints、shorts/chars、bytes/booleans、oops（Ordinary Object Pointers)<br>句柄访问:reference中存储的是对象的句柄地址，句柄中包含了对象实例数据与类型数据各自具体的地址信息<br>直接指针访问:reference中存储的直接就是对象地<br><strong>2.4 实战：OutOfMemoryError异常</strong><br>参数-XX：+HeapDumpOnOutOf-MemoryError可以让虚拟机在出现内存溢出异常的时候Dump出当前的内存堆转储快照以便进行事后分析<br>内存泄漏(Memory Leak) + 内存溢出(Memory Overflow)<br>无论是由于栈帧太大还是虚拟机栈容量太小，当新的栈帧内存无法分配的时候，HotSpot虚拟机抛出的都是StackOverflowError异常<br>通过-XX：PermSize和-XX：MaxPermSize限制永久代的大小<br>方法区的主要职责是用于存放类型的相关信息，如类名、访问修饰符、常量池、字段描述、方法描述等。<br>程序使用了CGLib字节码增强;动态语言;大量JSP或动态产生JSP文件的应用;基于OSGi的应用</p>
<h4 id="第3章-垃圾收集器与内存分配策略"><a href="#第3章-垃圾收集器与内存分配策略" class="headerlink" title="第3章 垃圾收集器与内存分配策略"></a>第3章 垃圾收集器与内存分配策略</h4><p><strong>3.1 概述</strong><br>Lisp是第一门开始使用内存动态分配和垃圾收集技术的语言<br><strong>3.2 对象已死？</strong><br>引用计数算法(Reference Counting)<br>可达性分析算法(Reachability Analysis):”GC Roots”的根对象;引用关系;”引用链”(Reference Chain)<br>强引用(Strongly Reference)、软引用(Soft Reference)、弱引用(Weak Reference)和虚引用(Phantom Reference)<br>筛选的条件是此对象是否有必要执行finalize()方法<br>任何一个对象的finalize()方法都只会被系统自动调用一次<br>方法区的垃圾收集主要回收两部分内容：废弃的常量和不再使用的类型。<br><strong>3.3 垃圾收集算法</strong><br>从如何判定对象消亡的角度出发，垃圾收集算法可以划分为“引用计数式垃圾收集”（Reference Counting GC）和“追踪式垃圾收集”（Tracing GC）两大类，这两类也常被称作“直接垃圾收集”和“间接垃圾收集”<br><em>分代收集理论</em><br>1)弱分代假说（Weak Generational Hypothesis）：绝大多数对象都是朝生夕灭的。 2)强分代假说（Strong Generational Hypothesis）：熬过越多次垃圾收集过程的对象就越难以消亡。<br>3）跨代引用假说（Intergenerational Reference Hypothesis）：跨代引用相对于同代引用来说仅占极少数。<br>“Minor GC” “Major GC” “Mixed GC” “Full GC”<br>“标记-复制算法” “标记-清除算法” “标记-整理算法”<br>新生代(Young Generation)和老年代(Old Generation)<br>半区复制分代策略-&gt;优化：Appel式回收：把新生代分为一块较大的Eden空间和两块较小的Survivor空间，每次分配内存只使用Eden和其中一块Survivor<br>移动则内存回收时会更复杂，不移动则内存分配时会更复杂。从垃圾收集的停顿时间来看，不移动对象停顿时间会更短，甚至可以不需要停顿，但是从整个程序的吞吐量来看，移动对象会更划算。<br><strong>3.4 HotSpot的算法细节实现</strong><br>OopMap：直接得到哪些地方存放着对象引用<br>安全点(Safepoint):决定了用户程序执行时并非在代码指令流的任意位置都能够停顿下来开始垃圾收集，而是强制要求必须执行到达安全点后才能够暂停。<br>安全点位置的选取基本上是以“是否具有让程序长时间执行的特征”为标准进行选定的<br>抢先式中断(Preemptive Suspension)和主动式中断(Voluntary Suspension)<br>安全区域(Safe Region): 能够确保在某一段代码片段之中，引用关系不会发生变化，因此，在这个区域中任意地方开始垃圾收集都是安全的<br>记忆集(Remembered Set): 用于记录从非收集区域指向收集区域的指针集合的抽象数据结构：解决对象跨代引用的问题：避免把整个老年代加进GC Roots扫描范围<br>字长精度 对象精度 卡精度<br>“卡表”(Card Table) “卡页”(Card Page)<br>在HotSpot虚拟机里是通过写屏障（Write Barrier）技术维护卡表状态的<br>低延迟收集器中会提到的“读屏障”<br>解决并发乱序执行问题中的“内存屏障”<br>写屏障可以看作在虚拟机层面对“引用类型字段赋值”这个动作的AOP切面(Aspect Oriented Programming)<br>可达性分析算法理论上要求全过程都基于一个能保障一致性的快照中才能够进行分析<br>赋值器插入了一条或多条从黑色对象到白色对象的新引用;<br>赋值器删除了全部从灰色对象到该白色对象的直接或间接引用;<br>增量更新(Incremental Update)和原始快照(Snapshot At The Beginning,SATB)<br><strong>3.5 经典垃圾收集器</strong><br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/10/Q64hmsBgOxDewE2.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">QQ截图20220210193910.png</span><br>Serial收集器-&gt;Parallel收集器-&gt;Concurrent Mark Sweep（CMS)-&gt;Garbage First（G1）收集器-&gt; Shenandoah和ZGC<br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/10/Ip54sjkNebWmyYJ.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">Serial/Serial Old收集器运行示意图</span><br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/10/RjaykE38vBuLwbZ.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">ParNew/Serial Old收集器运行示意图 </span><br>CMS收集器是HotSpot虚拟机中第一款真正意义上支持并发的垃圾收集器，它首次实现了让垃圾收集线程与用户线程(基本上)同时工作。<br>Parallel Scavenge收集器也经常被称作”吞吐量优先收集器”,自适应的调节策略(GC Ergonomics)<br>CMS收集器:1)初始标记(CMS initial mark) 2)并发标记(CMS concurrent mark) 3)重新标记(CMS remark) 4)并发清除(CMS concurrent sweep)<br>“增量式并发收集器”(Incremental Concurrent Mark Sweep/i-CMS)<br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/10/FPCv58mBUQO2kwo.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">Concurrent Mark Sweep收集器运行示意图 </span><br>Garbage First(简称G1)开创了收集器面向局部收集的设计思路和基于Region的内存布局形式<br>G1宣告取代Parallel Scavenge加Parallel Old组合，成为服务端模式下的默认垃圾收集:在延迟可控的情况下获得尽可能高的吞吐量<br>“停顿时间模型”(Pause Prediction Model):能够支持指定在一个长度为M毫秒的时间片段内，消耗在垃圾收集上的时间大概率不超过N毫秒这样的目标，这几乎已经是实时Java(RTSJ)的中软实时垃圾收集器特征了。<br>基于Region的堆内存布局:把连续的Java堆划分为多个大小相等的独立区域（Region），每一个Region都可以根据需要，扮演新生代的Eden空间、Survivor空间，或者老年代空间。<br><img    class="lazyload" data-original="https://s2.loli.net/2022/02/10/f4JX59MF7aOCBgv.png" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="    style="zoom:50%;" /><span class="image-caption">G1收集器运行示意图</span></p>
<p><strong>3.6 低延迟垃圾收集器</strong><br>内存占用（Footprint）、吞吐量（Throughput）和延迟 （Latency）<br>Shenandoah收集器：实现一种能在任何堆内存大小下都可以把垃圾收集的停顿时间限制在十毫秒以内的垃圾收集器<br>1)支持并发的整理算法;2)默认不使用分代收集;3)用”连接矩阵”(Connection Matrix)的全局数据结构来记录跨Region的引用关系，降低了处理跨代指针时的记忆集维护消耗，也降低了伪共享问题的发生概率。<br>1)初始标记(Initial Marking) 2)并发标记(Concurrent Marking) 3)最终标记(Final Marking) 4)并发清理(Concurrent Cleanup)  5)并发回收(Concurrent Evacuation)通过读屏障和被称为”Brooks Pointers”的转发指针来解决 6)初始引用更新(Initial Update Reference) 7)并发引用更新(Concurrent Update Reference) 8)最终引用更新(Final Update Reference) 9)并发清理(Concurrent Cleanup)<br>内存保护陷阱 转发指针分散存放在每一个对象头前面 比较并交换(Compare And Swap，CAS)操作 引用访问屏障(Load Reference Barrier)<br>PGC C4 ZGC<br>ZGC收集器是一款基于Region内存布局的，(暂时)不设分代的，使用了读屏障、染色指针和内存多重映射等技术来实现可并发的标记-整理算法的，以低延迟为首要目标的一款垃圾收集器。<br>染色指针是一种直接将少量额外的信息存储在指针上的技术<br>1)并发标记(Concurrent Mark) 2)并发预备重分配(Concurrent Prepare for Relocate) 3)并发重分配(Concurrent Relocate) 4)并发重映射(Concurrent Remap)<br>NUMA(Non-Uniform Memory Access，非统一内存访问架构)是一种为多处理器或者多核处理器的计算机所设计的内存架构。<br><strong>3.7 选择合适的垃圾收集器</strong><br>应用程序的主要关注点是什么？运行应用的基础设施如何？使用JDK的发行商是什么？<br>-Xlog[:[selector][:[output][:[decorators][:output-options]]]]<br>标签(Tag)+ 日志级别(Level) = 选择器(Selector)<br><strong>3.8 实战：内存分配与回收策略</strong></p>
<h4 id="第4章-虚拟机性能监控、故障处理工具"><a href="#第4章-虚拟机性能监控、故障处理工具" class="headerlink" title="第4章 虚拟机性能监控、故障处理工具"></a>第4章 虚拟机性能监控、故障处理工具</h4><p><strong>4.1 概述</strong><br>给一个系统定位问题的时候，知识、经验是关键基础，数据是依据，工具是运用知识处理数据的手段。<br><strong>4.2 基础故障处理工具</strong><br>bin目录下各种小工具<br>监视虚拟机运行状态和进行故障处理的工具<br>商业授权工具(JMC(Java Mission Control) JFR(Java Flight Recorder)) 正式支持工具 实验性工具<br><em>jps：虚拟机进程状况工具</em><br>jps(JVM Process Status Tool): 可以列出正在运行的虚拟机进程，并显示虚拟机执行主类(Main Class，main()函数所在的类)名称以及这些进程的本地虚拟机唯一ID(LVMID，Local Virtual Machine Identifier)。<br><em>jstat：虚拟机统计信息监视工具</em><br>jstat(JVM Statistics Monitoring Tool)是用于监视虚拟机各种运行状态信息的命令行工具<br>类加载、垃圾收集、运行期编译状况<br><em>jinfo：Java配置信息工具</em><br>jinfo(Configuration Info for Java)的作用是实时查看和调整虚拟机各项参数。<br><em>jmap：Java内存映像工具</em><br>jmap(Memory Map for Java)命令用于生成堆转储快照(一般称为heapdump或dump文件)。<br>查询finalize执行队列、Java堆和方法区的详细信息<br><em>jhat：虚拟机堆转储快照分析工具</em><br>JDK提供jhat(JVM Heap Analysis Tool)命令与jmap搭配使用，来分析jmap生成的堆转储快照。<br><em>jstack：Java堆栈跟踪工具</em><br>jstack(Stack Trace for Java)命令用于生成虚拟机当前时刻的线程快照(一般称为threaddump或者javacore文件)<br>线程快照就是当前虚拟机内每一条线程正在执行的方法堆栈的集合<br>getAllStackTraces()方法用于获取虚拟机中所有线程的StackTraceElement对象<br><strong>4.3 可视化故障处理工具</strong><br>JConsole、 JHSDB、VisualVM和JMC<br><em>JHSDB：基于服务性代理(Serviceability Agent，SA)的调试工具</em><br>服务性代理是HotSpot虚拟机中一组用于映射Java虚拟机运行信息的、主要基于Java语言(含少量JNI代码)实现的 API集合。<br><em>JConsole：Java监视与管理控制台</em><br>JConsole(Java Monitoring and Management Console)是一款基于JMX(Java Management Extensions)的可视化监视、管理工具。<br><em>VisualVM：多合-故障处理工具</em><br>VisualVM(All-in-One Java Troubleshooting Tool)是功能最强大的运行监视和故障处理程序之一<br>BTrace能够实现动态修改程序行为，是因为它是基于Java虚拟机的Instrument开发的。Instrument是Java虚拟机工具接口(Java Virtual Machine Tool Interface，JVMTI)的重要组件，提供了一套代理 (Agent)机制，使得第三方工具程序可以以代理的方式访问和修改Java虚拟机内部的数据。<br><em>Java Mission Control：可持续在线的监控工具</em><br>Oracle Java SE Advanced &amp; Suite<br>用于企业JRE定制管理的AMC(Java Advanced Management Console)控制台、 JUT(Java Usage Tracker)跟踪系统<br>用于持续收集数据的JFR(Java Flight Recorder)飞行记录仪和用于监控Java虚拟机的JMC(Java Mission Control)<br><em>HotSpot虚拟机插件及工具</em><br>HSDIS：JIT生成代码反汇编<br>JITWatch是HSDIS经常搭配使用的可视化的编译日志分析工具</p>
<h4 id="第5章-调优案例分析与实战"><a href="#第5章-调优案例分析与实战" class="headerlink" title="第5章 调优案例分析与实战"></a>第5章 调优案例分析与实战</h4><p><strong>5.1 概述</strong><br><strong>5.2 案例分析</strong><br><em>大内存硬件上的程序部署策略</em><br>1)通过一个单独的Java虚拟机实例来管理大量的Java堆内存。<br>2)同时使用若干个Java虚拟机，建立逻辑集群来利用硬件资源。<br>请求级 页面级 会话级 全局级<br><em>集群间同步导致的内存溢出</em><br>实现部分数据在各个节点间共享:使用JBossCache构建全局缓存；非集中式的集群缓存；<br>org.jgroups.protocols.pbcast.NAKACK对象<br>MIS的服务端中有一个负责安全校验的全局过滤器，导致集群各个节点之间网络交互非常频繁<br><em>堆外内存导致的溢出错误</em><br>直接内存 线程堆栈 Socket缓存区 JNI代码 虚拟机和垃圾收集器<br><em>外部命令导致系统缓慢</em><br><em>服务器虚拟机进程崩溃</em><br><em>不恰当数据结构导致内存占用过大</em><br><em>由Windows虚拟内存导致的长时间停顿</em><br><em>由安全点导致长时间停顿</em><br><strong>5.3 实战：Eclipse运行速度调优</strong><br>取消字节码验证后的类加载时间<br>编译时间是指虚拟机的即时编译器(Just In Time Compiler)编译热点代码(Hot Spot Code)的耗时</p>

      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>Mengyuan Chen</li>
    <li><strong>本文链接：</strong><a href="http://example.com/2022/02/22/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JAVA%E8%99%9A%E6%8B%9F%E6%9C%BA/%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/index.html" title="http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;02&#x2F;22&#x2F;%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JAVA%E8%99%9A%E6%8B%9F%E6%9C%BA&#x2F;%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86&#x2F;index.html">http:&#x2F;&#x2F;example.com&#x2F;2022&#x2F;02&#x2F;22&#x2F;%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JAVA%E8%99%9A%E6%8B%9F%E6%9C%BA&#x2F;%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86_%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img   class="lazyload" data-original="https://sm.ms/image/Y6TiL7UgNHm2RSl" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" >
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
        
  <nav class="nav">
    <a href="/2022/02/22/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JAVA%E8%99%9A%E6%8B%9F%E6%9C%BA/%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86_%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%AD%90%E7%B3%BB%E7%BB%9F/"><i class="iconfont iconleft"></i>第三部分_虚拟机执行子系统</a>
    <a href="/2022/02/22/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3JAVA%E8%99%9A%E6%8B%9F%E6%9C%BA/%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86_%E8%B5%B0%E8%BF%9BJAVA/">第一部分_走进JAVA<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86-%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86"><span class="toc-text">第二部分 自动内存管理</span></a></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="tencent://message/?Menu=yes&uin=2274849184 "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#12B7F5'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconQQ "></i>
      </a><a 
        href="javascript:; "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#09BB07'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconwechat-fill "></i>
      </a><a 
        href="https://www.instagram.com/xxdsh/ "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#DA2E76'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconinstagram "></i>
      </a><a 
        href="https://github.com/xxdsh "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:mychen@buaa.edu.cn "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color=#FF3B00" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail"></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Cure The World </p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
  
    <div class="search">
  <div class="search-container">
    <div class="search-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <div class="search-input-wrapper">
      <i class="search-input-icon iconfont iconsearch"></i>
      <input class="search-input" type="search" id="search-input" placeholder="Search..." autofocus autocomplete="off"
        autocorrect="off" autocapitalize="off">
    </div>
    <div class="search-output" id="search-output"></div>
  </div>
</div>
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>